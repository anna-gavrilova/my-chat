{"ast":null,"code":"import _classCallCheck from \"/Users/anna_gavrilova/my-chat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport User from '../models/user';\nimport { axios } from '../components/App';\n\nvar UserService = function UserService() {\n  var _this = this;\n\n  _classCallCheck(this, UserService);\n\n  this.user = null;\n\n  this.setUser = function (user) {\n    _this.user = user;\n  };\n\n  this.getAllUsers = function () {\n    return axios.get(\"http://127.0.0.1:3030/api/users\");\n  };\n\n  this.getChats = function () {\n    return axios.get(\"http://127.0.0.1:3030/api/dialogs/\");\n  };\n\n  this.findUsers = function (text) {\n    return axios.post(\"http://127.0.0.1:3030/api/users/find\", {\n      pattern: text\n    });\n  };\n\n  if (this.user === null && localStorage.getItem('loggedUser')) {\n    this.user = JSON.parse(localStorage.getItem('loggedUser'));\n    axios.defaults.headers.common['loggeduser'] = localStorage.getItem('loggedUser');\n  }\n\n  console.log(\"User in user service\", this.user);\n};\n\nexport default UserService;","map":{"version":3,"sources":["/Users/anna_gavrilova/my-chat/src/services/user.service.js"],"names":["User","axios","UserService","user","setUser","getAllUsers","get","getChats","findUsers","text","post","pattern","localStorage","getItem","JSON","parse","defaults","headers","common","console","log"],"mappings":";AAAA,OAAOA,IAAP,MAAiB,gBAAjB;AACA,SAAQC,KAAR,QAAoB,mBAApB;;IAEMC,W,GAIF,uBAAa;AAAA;;AAAA;;AAAA,OAFbC,IAEa,GAFN,IAEM;;AAAA,OAWbC,OAXa,GAWH,UAACD,IAAD,EAAU;AAChB,IAAA,KAAI,CAACA,IAAL,GAAUA,IAAV;AACH,GAbY;;AAAA,OAebE,WAfa,GAeD,YAAI;AACZ,WAAOJ,KAAK,CAACK,GAAN,CAAU,iCAAV,CAAP;AACH,GAjBY;;AAAA,OAmBbC,QAnBa,GAmBJ,YAAI;AACT,WAAON,KAAK,CAACK,GAAN,CAAU,oCAAV,CAAP;AACH,GArBY;;AAAA,OAuBbE,SAvBa,GAuBH,UAACC,IAAD,EAAQ;AACd,WAAOR,KAAK,CAACS,IAAN,CAAW,sCAAX,EAAkD;AAACC,MAAAA,OAAO,EAACF;AAAT,KAAlD,CAAP;AACH,GAzBY;;AAET,MAAI,KAAKN,IAAL,KAAc,IAAd,IAAsBS,YAAY,CAACC,OAAb,CAAqB,YAArB,CAA1B,EAA8D;AAE1D,SAAKV,IAAL,GAAWW,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAX;AACAZ,IAAAA,KAAK,CAACe,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,YAA9B,IAA8CN,YAAY,CAACC,OAAb,CAAqB,YAArB,CAA9C;AACD;;AAEPM,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmC,KAAKjB,IAAxC;AACC,C;;AAuBL,eAAeD,WAAf","sourcesContent":["import User from '../models/user'\nimport {axios} from '../components/App'\n\nclass UserService {\n\n    user = null;\n  \n    constructor(){\n\n        if (this.user === null && localStorage.getItem('loggedUser')) {\n\n            this.user=(JSON.parse(localStorage.getItem('loggedUser')))\n            axios.defaults.headers.common['loggeduser'] = localStorage.getItem('loggedUser')\n          }\n\n    console.log(\"User in user service\",this.user);\n    }\n\n    setUser = (user) => {\n        this.user=user\n    }\n\n    getAllUsers=()=>{\n        return axios.get(\"http://127.0.0.1:3030/api/users\")\n    }\n\n    getChats=()=>{\n        return axios.get(\"http://127.0.0.1:3030/api/dialogs/\")\n    }\n\n    findUsers=(text)=>{\n        return axios.post(\"http://127.0.0.1:3030/api/users/find\",{pattern:text})\n    }\n    \n\n\n\n}\n\nexport default UserService"]},"metadata":{},"sourceType":"module"}