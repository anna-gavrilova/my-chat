{"ast":null,"code":"import _classCallCheck from \"/Users/anna_gavrilova/my-chat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { axios } from '../components/App';\n\nvar ConvService = function ConvService() {\n  var _this = this;\n\n  _classCallCheck(this, ConvService);\n\n  this.openConversation = null;\n\n  this.selectConversation = function (conv) {\n    _this.openConversation = conv;\n  };\n\n  this.sendMessage = function (msg, dialog) {\n    var body = {\n      message: msg,\n      dialog: dialog //body contains the message itself and the chat id\n\n    };\n    return axios.post(\"http://127.0.0.1:3030/api/dialogs\", body);\n  };\n\n  this.getChats = function () {\n    return axios.get(\"http://127.0.0.1:3030/api/dialogs/\");\n  };\n\n  this.retrieveMessages = function (chat) {\n    return axios.get('http://127.0.0.1:3030/api/dialogs/' + chat);\n  };\n\n  this.startChat = function (user, startWith) {\n    var body = {\n      loggeduser: user,\n      startWithId: startWith\n    };\n    return axios.post('http://127.0.0.1:3030/api/dialogs/new', body);\n  };\n\n  this.getlog = function () {\n    return axios.get('http://127.0.0.1:3030/api/eventlog');\n  };\n\n  this.gethistory = function () {\n    return axios.get('http://127.0.0.1:3030/api/history');\n  };\n\n  this.getroomhistory = function (room) {\n    return axios.post('http://127.0.0.1:3030/api/roomhistory', {\n      room: room\n    });\n  };\n\n  this.getallrooms = function () {\n    return axios.get('http://127.0.0.1:3030/api/rooms');\n  };\n};\n\nexport default ConvService;","map":{"version":3,"sources":["/Users/anna_gavrilova/my-chat/src/services/conv.service.js"],"names":["axios","ConvService","openConversation","selectConversation","conv","sendMessage","msg","dialog","body","message","post","getChats","get","retrieveMessages","chat","startChat","user","startWith","loggeduser","startWithId","getlog","gethistory","getroomhistory","room","getallrooms"],"mappings":";AAAA,SAAQA,KAAR,QAAoB,mBAApB;;IAEMC,W,GAIF,uBAAa;AAAA;;AAAA;;AAAA,OAFbC,gBAEa,GAFI,IAEJ;;AAAA,OAIbC,kBAJa,GAIM,UAACC,IAAD,EAAQ;AACvB,IAAA,KAAI,CAACF,gBAAL,GAAsBE,IAAtB;AACH,GANY;;AAAA,OAQbC,WARa,GAQD,UAACC,GAAD,EAAKC,MAAL,EAAc;AACtB,QAAIC,IAAI,GAAC;AACLC,MAAAA,OAAO,EAACH,GADH;AAELC,MAAAA,MAAM,EAACA,MAFF,CAIT;;AAJS,KAAT;AAKA,WAAOP,KAAK,CAACU,IAAN,CAAW,mCAAX,EAA+CF,IAA/C,CAAP;AACH,GAfY;;AAAA,OAiBbG,QAjBa,GAiBJ,YAAI;AACT,WAAOX,KAAK,CAACY,GAAN,CAAU,oCAAV,CAAP;AACH,GAnBY;;AAAA,OAqBbC,gBArBa,GAqBI,UAACC,IAAD,EAAQ;AACrB,WAAOd,KAAK,CAACY,GAAN,CAAU,uCAAqCE,IAA/C,CAAP;AACH,GAvBY;;AAAA,OAyBbC,SAzBa,GAyBH,UAACC,IAAD,EAAMC,SAAN,EAAkB;AACxB,QAAIT,IAAI,GAAC;AACLU,MAAAA,UAAU,EAACF,IADN;AAELG,MAAAA,WAAW,EAACF;AAFP,KAAT;AAIA,WAAOjB,KAAK,CAACU,IAAN,CAAW,uCAAX,EAAmDF,IAAnD,CAAP;AACH,GA/BY;;AAAA,OAiCbY,MAjCa,GAiCN,YAAI;AACP,WAAOpB,KAAK,CAACY,GAAN,CAAU,oCAAV,CAAP;AACH,GAnCY;;AAAA,OAqCbS,UArCa,GAqCF,YAAI;AACX,WAAOrB,KAAK,CAACY,GAAN,CAAU,mCAAV,CAAP;AACH,GAvCY;;AAAA,OAwCbU,cAxCa,GAwCE,UAACC,IAAD,EAAQ;AACnB,WAAOvB,KAAK,CAACU,IAAN,CAAW,uCAAX,EAAmD;AAACa,MAAAA,IAAI,EAACA;AAAN,KAAnD,CAAP;AACH,GA1CY;;AAAA,OA4CbC,WA5Ca,GA4CD,YAAI;AACZ,WAAOxB,KAAK,CAACY,GAAN,CAAU,iCAAV,CAAP;AACH,GA9CY;AAEZ,C;;AAqDL,eAAeX,WAAf","sourcesContent":["import {axios} from '../components/App'\n\nclass ConvService {\n\n    openConversation=null;\n  \n    constructor(){\n\n    }\n\n    selectConversation=(conv)=>{\n        this.openConversation=conv\n    }\n\n    sendMessage=(msg,dialog)=>{\n        let body={\n            message:msg,\n            dialog:dialog\n        }\n        //body contains the message itself and the chat id\n        return axios.post(\"http://127.0.0.1:3030/api/dialogs\",body)\n    }\n    //gets chats for the specific user\n    getChats=()=>{\n        return axios.get(\"http://127.0.0.1:3030/api/dialogs/\")\n    }\n\n    retrieveMessages=(chat)=>{\n        return axios.get('http://127.0.0.1:3030/api/dialogs/'+chat)\n    }\n\n    startChat=(user,startWith)=>{\n        let body={\n            loggeduser:user,\n            startWithId:startWith\n        }\n        return axios.post('http://127.0.0.1:3030/api/dialogs/new',body)\n    }\n\n    getlog=()=>{\n        return axios.get('http://127.0.0.1:3030/api/eventlog')\n    }\n\n    gethistory=()=>{\n        return axios.get('http://127.0.0.1:3030/api/history')\n    }\n    getroomhistory=(room)=>{\n        return axios.post('http://127.0.0.1:3030/api/roomhistory',{room:room})\n    }\n\n    getallrooms=()=>{\n        return axios.get('http://127.0.0.1:3030/api/rooms')\n    }\n\n\n    \n\n\n\n}\n\nexport default ConvService"]},"metadata":{},"sourceType":"module"}